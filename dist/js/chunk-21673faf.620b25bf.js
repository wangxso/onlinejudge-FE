(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21673faf"],{1148:function(e,t,i){"use strict";var r=i("a691"),a=i("1d80");e.exports="".repeat||function(e){var t=String(a(this)),i="",n=r(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(i+=t);return i}},"408a":function(e,t,i){var r=i("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},6837:function(e,t,i){"use strict";i("f5da")},b680:function(e,t,i){"use strict";var r=i("23e7"),a=i("a691"),n=i("408a"),o=i("1148"),s=i("d039"),l=1..toFixed,c=Math.floor,p=function(e,t,i){return 0===t?i:t%2===1?p(e,t-1,i*e):p(e*e,t/2,i)},d=function(e){var t=0,i=e;while(i>=4096)t+=12,i/=4096;while(i>=2)t+=1,i/=2;return t},m=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));r({target:"Number",proto:!0,forced:m},{toFixed:function(e){var t,i,r,s,l=n(this),m=a(e),u=[0,0,0,0,0,0],f="",b="0",h=function(e,t){var i=-1,r=t;while(++i<6)r+=e*u[i],u[i]=r%1e7,r=c(r/1e7)},v=function(e){var t=6,i=0;while(--t>=0)i+=u[t],u[t]=c(i/e),i=i%e*1e7},g=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==u[e]){var i=String(u[e]);t=""===t?i:t+o.call("0",7-i.length)+i}return t};if(m<0||m>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(t=d(l*p(2,69,1))-69,i=t<0?l*p(2,-t,1):l/p(2,t,1),i*=4503599627370496,t=52-t,t>0){h(0,i),r=m;while(r>=7)h(1e7,0),r-=7;h(p(10,r,1),0),r=t-1;while(r>=23)v(1<<23),r-=23;v(1<<r),h(1,1),v(2),b=g()}else h(0,i),h(1<<-t,0),b=g()+o.call("0",m);return m>0?(s=b.length,b=f+(s<=m?"0."+o.call("0",m-s)+b:b.slice(0,s-m)+"."+b.slice(s-m))):b=f+b,b}})},f12e:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-row",[i("a-col",{attrs:{span:19}},[i("a-card",{staticClass:"desc-box",attrs:{bordered:!1}},[i("a-descriptions",{attrs:{title:e.problem.title,layout:"vertical",bordered:""}},[i("a-descriptions-item",{attrs:{label:"Description",span:3}},[i("div",{domProps:{innerHTML:e._s(e.problem.descriptionHtml)}})]),i("a-descriptions-item",{attrs:{label:"Input",span:3}},[i("div",{domProps:{innerHTML:e._s(e.problem.inputDescriptionHtml)}})]),i("a-descriptions-item",{attrs:{label:"Output",span:3}},[i("div",{domProps:{innerHTML:e._s(e.problem.outputDescriptionHtml)}})]),i("a-descriptions-item",{attrs:{label:"Samples input1"}},[e._v(" "+e._s(e.problem.samples.input)+" ")]),i("a-descriptions-item",{attrs:{label:"Samples output1"}},[e._v(" "+e._s(e.problem.samples.output)+" ")]),i("br"),i("a-descriptions-item",{attrs:{label:"提示",span:3}},[i("div",{domProps:{innerHTML:e._s(e.problem.hintHtml)}})]),i("a-descriptions-item",{attrs:{label:"题目来源",span:3}},[e._v(" "+e._s(e.problem.source)+" ")])],1)],1),i("a-card",{staticClass:"input-box",attrs:{bordered:"false"}},[i("div",{staticClass:"select-lang"},[i("span",[e._v("语言:")]),i("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"0"},on:{change:e.handleChange},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[i("a-select-option",{attrs:{value:0}},[e._v(" C ")]),i("a-select-option",{attrs:{value:1}},[e._v(" C++ ")]),i("a-select-option",{attrs:{value:2}},[e._v(" Java ")])],1)],1),i("codemirror",{attrs:{options:e.options},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),i("a-button",{staticStyle:{float:"right","margin-top":"20px"},attrs:{type:"primary",loading:e.loading},on:{click:e.enterLoading}},[e._v(" 提交 ")])],1)],1),i("a-col",{attrs:{span:1}}),i("a-col",{attrs:{span:4}},[i("a-card",{attrs:{bordered:!1}},[i("template",{slot:"title"},[e._v(" 数据 ")]),i("span",[e._v(" ID: "+e._s(e.problem.pid)+" "),i("br"),e._v(" Time Limit: "+e._s(e.problem.timeLimit)+" ms "),i("br"),e._v(" Memory Limit: "+e._s(Math.ceil(e.problem.memoryLimit/8/1024/1024))+" M "),i("br"),e._v(" Created By: "+e._s(e.problem.user.username)+" "),i("br"),e._v(" Level: "+e._s(e._f("levelFilter")(e.problem.level))+" ")])],2),i("a-card",{staticClass:"pie",attrs:{title:"题目详情"}},[i("ProblemSubPieChart",{attrs:{pid:e.pid}})],1)],1)],1)],1)},a=[],n=i("8f94"),o=(i("a7be"),i("acdf"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"container"}})])}],l=(i("b680"),i("99afe")),c={"-1":"Pending",1:"Accepted",2:"Wrong Answer",3:"Runtime Error",4:"Output Limit Exceeded",5:"Memory Limit Exceeded",6:"Time Limit Exceeded",7:"Presentation Error",8:"System Error",9:"Compile Error"},p={name:"ProblemSubPieChart",props:["pid"],methods:{getChartData:function(e){var t=this,i=[];this.$api.problem.getChartData(e).then((function(e){if(0===e.code){var r=JSON.parse(e.data);for(var a in r){var n={};n.type=c[a],n.value=r[a],console.log(n),i.push(n)}var o=new l["Pie"]("container",{appendPadding:10,data:i,angleField:"value",colorField:"type",radius:1,innerRadius:.64,label:{type:"inner",offset:"-50%",autoRotate:!1,style:{textAlign:"center"},formatter:function(e){var t=e.percent;return"".concat((100*t).toFixed(0),"%")}},statistic:{title:{offsetY:-8},content:{offsetY:-4}},interactions:[{type:"element-selected"},{type:"element-active"},{type:"pie-statistic-active",cfg:{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"},{trigger:"legend-item:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"},{trigger:"legend-item:mouseleave",action:"pie-statistic:reset"}]}}]});o.render()}else t.$message.error(e.msg)}))}},data:function(){return{data:{}}},mounted:function(){this.getChartData(this.pid)}},d=p,m=i("2877"),u=Object(m["a"])(d,o,s,!1,null,"57b95d29",null),f=u.exports;i("4ba6"),i("f9d4"),i("d5e0"),i("693d8"),i("db91"),i("7b00"),i("ffda"),i("02f0");var b={name:"ProblemDetail",props:["pid"],components:{codemirror:n["codemirror"],ProblemSubPieChart:f},data:function(){return{type:0,problem:{},code:"",options:{tabSize:2,theme:"rubyblue",lineNumbers:!0,line:!0,mode:"text/x-c++src",styleActiveLine:!0,hintOptions:{completeSingle:!0}},loading:!1}},methods:{getProblem:function(){var e=this;this.$api.problem.findProblemByPid(this.pid).then((function(t){if(0===t.code){e.problem=t.data.problem,e.problem.visible||(e.problem=null),e.problem.user=t.data.user;var i=e.problem.samples;e.problem.samples=JSON.parse(i)}else e.$message.error(t.msg)}))},handleChange:function(e){0===e||1===e?this.options.mode="text/x-c++src":2===e&&(this.options.mode="text/x-java")},enterLoading:function(){var e=this;if(""===this.code)return this.$message.error("代码不能为空"),void(this.loading=!1);if(null!==this.$store.state.user){this.loading=!0;var t={code:this.code,type:this.type,uid:this.$store.state.user.uid,pid:this.problem.pid,language:this.type};this.openNotification("rightBottom"),this.$api.submission.submitAnswer(t,this.problem.pid).then((function(t){0===t.code?(e.$message.success("提交成功"),e.loading=!1):(e.$message.error(t.msg),e.loading=!1)}))}else this.$message.error("用户未登录")},openNotification:function(e){var t=this.$createElement,i="已提交，等待判题";this.$notification.open({key:"updatable",message:i,description:i,placement:e,icon:t("a-icon",{attrs:{type:"sync",spin:!0}})})}},mounted:function(){this.getProblem()},filters:{levelFilter:function(e){return 0===e?"Easy":1===e?"Mid":2===e?"Hard":""}}},h=b,v=(i("6837"),Object(m["a"])(h,r,a,!1,null,"5bb67d44",null));t["default"]=v.exports},f5da:function(e,t,i){}}]);
//# sourceMappingURL=chunk-21673faf.620b25bf.js.map