(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3750ace2","chunk-71d6d175"],{"152c":function(t,e,a){"use strict";a("ba85")},"6ff1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{attrs:{title:"状态"}},[null!=t.cid?a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.getSubmissionForContest(t.cid,t.index,t.pageSize)}}},[t._v("刷新")]):t._e(),a("el-table",{attrs:{data:t.submission}},[a("el-table-column",{attrs:{label:"SID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.uid===e.row.user.uid?a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.toDetail(e.row)}}},[t._v(t._s(e.row.sid))]):a("span",[t._v(t._s(e.row.sid))])]}}])}),a("el-table-column",{attrs:{label:"结果",filters:t.result_text_filter,"filter-method":t.filterHandler},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a-tag",{attrs:{color:t.answer_status[e.row.result]}},[t._v(" "+t._s(t.result_text[e.row.result])+" ")])]}}])}),a("el-table-column",{attrs:{label:"题目"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"primary",href:"/problems/"+e.row.pid}},[t._v(t._s(e.row.pid))])]}}])}),a("el-table-column",{attrs:{label:"语言"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.language2Str[e.row.language])+" ")]}}])}),a("el-table-column",{attrs:{label:"耗时(ms)",prop:"timeCost"}}),a("el-table-column",{attrs:{label:"内存"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(Math.ceil(e.row.memoryCost/8/1024))+" MB ")]}}])}),a("el-table-column",{attrs:{label:"作者"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"medium"}},[a("el-link",{attrs:{type:"primary"}},[t._v(t._s(e.row.user.username))])],1)]}}])}),a("el-table-column",{attrs:{label:"提交时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t._f("formatDate")(e.row.createTime))+" ")]}}])})],1),a("el-pagination",{staticStyle:{float:"right",padding:"10px"},attrs:{background:"","current-page":t.page,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handlePageChange}})],1)},n=[],i={"-1":"blue",1:"#87d068",2:"#ff0000",3:"#f50",4:"pink",5:"#ff0000",6:"#ff0000",7:"#f50",8:"#f50",9:"#f50"},r={"-1":"Pending",1:"Accepted",2:"Wrong Answer",3:"Runtime Error",4:"Output Limit Exceeded",5:"Memory Limit Exceeded",6:"Time Limit Exceeded",7:"Presentation Error",8:"System Error",9:"Compile Error"},o=[{text:"Pending",value:-1},{text:"Accepted",value:1},{text:"Wrong Answer",value:2},{text:"Runtime Error",value:3},{text:"Output Limit Exceeded",value:4},{text:"Memory Limit Exceeded",value:5},{text:"Time Limit Exceeded",value:6},{text:"Presentation Error",value:7},{text:"System Error",value:8},{text:"Compile Error",value:9}],l={0:"C",1:"C++",2:"Java"},u={name:"StatusList",inject:["reload"],props:["cid"],components:{},data:function(){return{submission:{},answer_status:i,language2Str:l,result_text:r,result_text_filter:o,total:0,page:1,pageSize:10,uid:""}},methods:{getSubmissions:function(t,e){var a=this;this.$api.submission.findAllPagination(t,e).then((function(t){0===t.code?(a.total=t.data.total,a.submission=t.data.records):console.log(t)}))},handleTableChange:function(t){this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.getSubmissions(t.current,t.pageSize)},getSubmissionForContest:function(t,e,a){var s=this;this.$api.contest.findSubmission(t,e,a).then((function(t){0===t.code?(s.total=t.data.total,s.submission=t.data.records):console.log(t)}))},handlePageChange:function(t){this.page=t,null!=this.cid?this.getSubmissionForContest(this.cid,this.page,this.pageSize):this.getSubmissions(this.page,this.pageSize)},toDetail:function(t){this.$router.push({path:"detail",name:"detail",params:{status:t}})},filterHandler:function(t,e){return e["result"]===t}},created:function(){this.$store.state.user&&(this.uid=this.$store.state.user.uid),null!=this.cid?this.getSubmissionForContest(this.cid,1,10):this.getSubmissions(1,10)}},c=u,d=(a("152c"),a("2877")),p=Object(d["a"])(c,s,n,!1,null,null,null);e["default"]=p.exports},ba85:function(t,e,a){},c552:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{attrs:{title:t.contest.title}},[a("a-tabs",{attrs:{"default-active-key":"1","tab-position":t.position}},[a("a-tab-pane",{key:"1",attrs:{tab:"主页"}},[a("Index",{attrs:{contest:t.contest}})],1),a("a-tab-pane",{key:"2",attrs:{tab:"题目"}},[a("ProblemList",{attrs:{contest:t.contest,problems:JSON.parse(t.contest.problems)}})],1),a("a-tab-pane",{key:"3",attrs:{tab:"提交"}},[a("StatusList",{attrs:{cid:t.contest.cid}})],1)],1)],1),a("a-row",{staticStyle:{"padding-top":"20px"}},[a("a-col",{attrs:{span:21}}),a("a-col",{attrs:{span:3}},[a("a-card",{staticStyle:{"background-color":"#409EFF"}},[a("a-statistic-countdown",{staticStyle:{"padding-left":"15%"},attrs:{title:"距离比赛结束",value:t.contest.endDate,format:"HH:mm:ss:SSS"}})],1)],1)],1)],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-statistic",{staticStyle:{"margin-right":"50px"},attrs:{title:"开始时间",value:t._f("formatDate")(t.contest.startDate)}}),a("a-statistic",{attrs:{title:"结束时间",value:t._f("formatDate")(t.contest.endDate)}}),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-statistic-countdown",{staticStyle:{"margin-right":"50px"},attrs:{title:"Countdown",value:t.deadline,format:"HH:mm:ss:SSS"},on:{finish:t.onFinish}})],1)],1)],1)},r=[],o=(a("ac1f"),a("5319"),{name:"Index",props:["contest"],data:function(){return{deadline:0}},mounted:function(){this.getDate()},methods:{getDate:function(){var t=this.$moment(this.contest.endDate).format("YYYY-MM-DD HH:mm:ss");t=t.replace(/-/g,"/");var e=new Date(t);this.deadline=e;var a=new Date;a>this.deadline&&(this.$router.go(-1),this.$message.error("比赛已结束"))}}}),l=o,u=a("2877"),c=Object(u["a"])(l,i,r,!1,null,"e55fb2a6",null),d=c.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{attrs:{title:"问题",bordered:!1}},[a("a-table",{attrs:{"data-source":t.problemList,loading:t.loading,rowKey:"pid",customRow:t.rowClick}},[a("a-table-column",{key:"pid",attrs:{width:"2",title:"PID","data-index":"pid"}}),a("a-table-column",{key:"title",attrs:{title:"Title","data-index":"title"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"#"}},[t._v(t._s(e))])]}}])})],1)],1)],1)},m=[],f={props:["problems","contest"],data:function(){var t=this;return{problemList:[],loading:!0,rowClick:function(e){return{on:{click:function(){t.$router.push("/contest/problem/"+e.pid+"/"+t.contest.cid)}}}}}},methods:{getProblemList:function(){var t=this;for(var e in this.problems)this.$api.problem.findProblemByPid(this.problems[e]).then((function(e){0===e.code?t.problemList.push(e.data.problem):t.$message.error(e.msg)}));this.loading=!1}},mounted:function(){this.getProblemList()}},b=f,g=Object(u["a"])(b,p,m,!1,null,"c206fe98",null),h=g.exports,_=a("6ff1"),S={name:"ContestDetail",props:["contest"],data:function(){return{position:"right"}},components:{StatusList:_["default"],ProblemList:h,Index:d},mounted:function(){}},v=S,y=Object(u["a"])(v,s,n,!1,null,"26d8b225",null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-3750ace2.eb0d6362.js.map