{"version":3,"sources":["webpack:///./src/components/status/StatusList.vue?5acf","webpack:///./src/components/status/StatusList.vue?411d","webpack:///src/components/status/StatusList.vue","webpack:///./src/components/status/StatusList.vue?4bf1","webpack:///./src/components/status/StatusList.vue?5133"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","cid","on","$event","getSubmissionForContest","index","pageSize","_v","_e","submission","scopedSlots","_u","key","fn","scope","uid","row","user","toDetail","_s","sid","result_text_filter","filterHandler","answer_status","result","result_text","pid","language2Str","language","Math","ceil","memoryCost","username","staticClass","_f","createTime","staticStyle","page","total","handlePageChange","staticRenderFns","name","inject","props","components","data","methods","getSubmissions","$api","findAllPagination","then","handleTableChange","pagination","current","contest","findSubmission","val","$router","push","value","created","$store","state","component"],"mappings":"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","file":"js/chunk-71d6d175.74fb82f6.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusList.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{attrs:{\"title\":\"状态\"}},[(_vm.cid != null)?_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getSubmissionForContest(_vm.cid, _vm.index, _vm.pageSize)}}},[_vm._v(\"刷新\")]):_vm._e(),_c('el-table',{attrs:{\"data\":_vm.submission}},[_c('el-table-column',{attrs:{\"label\":\"SID\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.uid === scope.row.user.uid)?_c('el-link',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.toDetail(scope.row)}}},[_vm._v(_vm._s(scope.row.sid))]):_c('span',[_vm._v(_vm._s(scope.row.sid))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"结果\",\"filters\":_vm.result_text_filter,\"filter-method\":_vm.filterHandler},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a-tag',{attrs:{\"color\":_vm.answer_status[scope.row.result]}},[_vm._v(\" \"+_vm._s(_vm.result_text[scope.row.result])+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"题目\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"type\":\"primary\",\"href\":'/problems/' + scope.row.pid}},[_vm._v(_vm._s(scope.row.pid))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"语言\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm.language2Str[scope.row.language])+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"耗时(ms)\",\"prop\":\"timeCost\"}}),_c('el-table-column',{attrs:{\"label\":\"内存\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(Math.ceil(scope.row.memoryCost/8/1024))+\" MB \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"作者\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\"}},[_c('el-link',{attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(scope.row.user.username))])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"提交时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(scope.row.createTime))+\" \")]}}])})],1),_c('el-pagination',{staticStyle:{\"float\":\"right\",\"padding\":\"10px\"},attrs:{\"background\":\"\",\"current-page\":_vm.page,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.handlePageChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card title=\"状态\">\r\n    <a-button v-if=\"cid != null\" type=\"primary\" @click=\"getSubmissionForContest(cid, index, pageSize)\">刷新</a-button>\r\n    <el-table :data=\"submission\" >\r\n      <el-table-column label=\"SID\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link @click=\"toDetail(scope.row)\" v-if=\"uid === scope.row.user.uid\"  type=\"primary\">{{scope.row.sid}}</el-link>\r\n          <span v-else>{{scope.row.sid}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"结果\"\r\n          :filters=\"result_text_filter\"\r\n          :filter-method=\"filterHandler\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <a-tag :color=\"answer_status[scope.row.result]\">\r\n            {{result_text[scope.row.result]}}\r\n          </a-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"题目\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link type=\"primary\" :href=\"'/problems/' + scope.row.pid\">{{scope.row.pid}}</el-link>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"语言\">\r\n        <template slot-scope=\"scope\">\r\n          {{language2Str[scope.row.language]}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"耗时(ms)\" prop=\"timeCost\">\r\n      </el-table-column>\r\n      <el-table-column label=\"内存\">\r\n        <template slot-scope=\"scope\">\r\n          {{Math.ceil(scope.row.memoryCost/8/1024)}}&nbsp;MB\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"作者\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"medium\">\r\n            <el-link type=\"primary\">{{scope.row.user.username}}</el-link>\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"提交时间\">\r\n        <template slot-scope=\"scope\">\r\n          <i class=\"el-icon-time\"></i>\r\n          {{scope.row.createTime | formatDate}}\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n            style=\"float: right;padding: 10px;\"\r\n            background\r\n            @current-change=\"handlePageChange\"\r\n            :current-page=\"page\"\r\n            :page-size=\"pageSize\"\r\n            layout=\"total, prev, pager, next\"\r\n            :total=\"total\">\r\n    </el-pagination>\r\n  </el-card>\r\n</template>\r\n<script>\r\nconst answer_status = {\r\n  \"-1\": \"blue\",\r\n  '1': '#87d068',\r\n  '2': '#ff0000',\r\n  '3': '#f50',\r\n  '4': 'pink',\r\n  '5': '#ff0000',\r\n  '6': '#ff0000',\r\n  '7': \"#f50\",\r\n  \"8\": \"#f50\",\r\n  \"9\": \"#f50\"\r\n};\r\n\r\nconst result_text = {\r\n  \"-1\": \"Pending\",\r\n  \"1\": \"Accepted\",\r\n  \"2\": \"Wrong Answer\",\r\n  \"3\": \"Runtime Error\",\r\n  \"4\": \"Output Limit Exceeded\",\r\n  \"5\": \"Memory Limit Exceeded\",\r\n  \"6\": \"Time Limit Exceeded\",\r\n  \"7\": \"Presentation Error\",\r\n  \"8\": \"System Error\",\r\n  \"9\": \"Compile Error\",\r\n};\r\n\r\nconst result_text_filter = [\r\n  {'text': 'Pending', \"value\": -1},\r\n  {'text': 'Accepted', \"value\": 1},\r\n  {'text': 'Wrong Answer', \"value\": 2},\r\n  {'text': 'Runtime Error', \"value\": 3},\r\n  {'text': 'Output Limit Exceeded', \"value\": 4},\r\n  {'text': 'Memory Limit Exceeded', \"value\": 5},\r\n  {'text': 'Time Limit Exceeded', \"value\": 6},\r\n  {'text': 'Presentation Error', \"value\": 7},\r\n  {'text': 'System Error', \"value\": 8},\r\n  {'text': 'Compile Error', \"value\": 9},\r\n];\r\nconst language2Str = {\r\n  \"0\": \"C\",\r\n  \"1\": \"C++\",\r\n  \"2\": \"Java\"\r\n}\r\nexport default {\r\n  name: \"StatusList\",\r\n  inject: ['reload'],\r\n  props: ['cid'],\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      submission: {},\r\n      answer_status,\r\n      language2Str,\r\n      result_text,\r\n      result_text_filter,\r\n      total: 0,\r\n      page: 1,\r\n      pageSize: 10,\r\n      uid: ''\r\n    };\r\n  },\r\n  methods: {\r\n    getSubmissions(page , pageSize){\r\n      this.$api.submission.findAllPagination(page, pageSize).then(res => {\r\n            if (res.code === 0) {\r\n              this.total = res.data.total;\r\n              this.submission = res.data.records\r\n            } else {\r\n              console.log(res)\r\n            }\r\n      })\r\n    },\r\n    handleTableChange(pagination) {\r\n      this.pagination.current = pagination.current;\r\n      this.pagination.pageSize = pagination.pageSize;\r\n      this.getSubmissions(pagination.current, pagination.pageSize)\r\n    },\r\n    getSubmissionForContest(cid, page, pageSize){\r\n      this.$api.contest.findSubmission(cid, page, pageSize).then(res => {\r\n          if (res.code === 0) {\r\n            this.total = res.data.total;\r\n            this.submission = res.data.records;\r\n          } else {\r\n            console.log(res)\r\n          }\r\n      })\r\n    },\r\n    handlePageChange(val){\r\n      this.page = val\r\n      if (this.cid != null) {\r\n        this.getSubmissionForContest(this.cid, this.page,this.pageSize)\r\n      } else {\r\n        this.getSubmissions(this.page, this.pageSize)\r\n      }\r\n    },\r\n    toDetail(status) {\r\n      this.$router.push({path: \"detail\", name: \"detail\", params: {status: status}})\r\n    },\r\n    filterHandler(value, row) {\r\n      return row['result'] === value;\r\n    }\r\n  },\r\n  created() {\r\n    if (this.$store.state.user){\r\n        this.uid = this.$store.state.user.uid\r\n    }\r\n    if (this.cid != null){\r\n      this.getSubmissionForContest(this.cid, 1,10)\r\n    } else {\r\n      this.getSubmissions(1, 10)\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n  .link-text{\r\n    color: #3838ee;\r\n  }\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatusList.vue?vue&type=template&id=47effe89&\"\nimport script from \"./StatusList.vue?vue&type=script&lang=js&\"\nexport * from \"./StatusList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StatusList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}